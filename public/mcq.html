<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>x-mcq demo</title>
    <style>
      body{margin:0;min-height:100svh;background:#f8fafc;display:grid;place-items:center;padding:20px}
      .wrap{width:min(900px,96vw)}
      .row{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:16px}
      .row > *{flex:1}
      .card{padding:12px 0}
      .mini{font:12px/1.4 ui-sans-serif,system-ui;opacity:.8}
      .bar{display:flex;gap:8px;align-items:center;justify-content:flex-end;margin:8px 0}
      .bar button{padding:.5rem .75rem;border-radius:8px;border:1px solid #cbd5e1;background:#fff;cursor:pointer}
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="row">
        <div>
          <div class="mini">Layout</div>
          <div class="bar">
            <button data-layout="grid">Grid</button>
            <button data-layout="stack">Stack</button>
            <button data-layout="dialog">Dialog</button>
          </div>
        </div>
        <div>
          <div class="mini">Theme</div>
          <div class="bar">
            <button data-theme="auto">Auto</button>
            <button data-theme="dark">Dark</button>
            <button id="accent">Random Accent</button>
          </div>
        </div>
      </div>

      <edu-mcq id="q1" layout="grid"></edu-mcq>

      <pre id="log" class="card mini"></pre>
    </div>

    <script type="module">

      import { EduMCQ } from "./dist/index.js";

      if (!customElements.get("edu-mcq")) customElements.define("edu-mcq", EduMCQ);

      const mcq = document.getElementById("q1");
      mcq.data = {
        id: "q-001",
        sentence: "This is your question",
        options: [
          { id:"A", text:"A - Some option" },
          { id:"B", text:"B - Some other option" },
          { id:"C", text:"C - Maybe valid option?" },
          { id:"D", text:"D - And another option" }
        ],
        hint: "Try eliminating obviously wrong answers."
      };

      mcq.layout = 'stack';

      // listen for selection
      const log = document.getElementById("log");
      mcq.addEventListener("mcq-submit", (e)=>{
        log.textContent = JSON.stringify(e.detail, null, 2);
      });

      // layout buttons
      document.querySelectorAll("[data-layout]").forEach(b=>{
        b.addEventListener("click", () => mcq.setAttribute("layout", b.dataset.layout));
      });

      // theme buttons
      document.querySelectorAll("[data-theme]").forEach(b=>{
        b.addEventListener("click", ()=>{
          const v = b.dataset.theme;
          if (v==="auto") mcq.removeAttribute("theme"); else mcq.setAttribute("theme", v);
        });
      });

      // accent randomizer (demo of CSS var overrides)
      document.getElementById("accent").addEventListener("click", ()=>{
        const hues = [12, 22, 35, 160, 195, 220, 260, 280];
        const h = hues[Math.floor(Math.random()*hues.length)];
        mcq.style.setProperty("--accent", `oklch(0.68 0.15 ${h})`);
        mcq.style.setProperty("--accent-contrast", "#0b1020");
      });
    </script>
  </body>
</html>
