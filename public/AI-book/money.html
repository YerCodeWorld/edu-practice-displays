<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My First Book of Finances - Chapter 1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Nunito', sans-serif;
            background-color: #fcf8e8; /* Creamy paper background */
            color: #4a4a4a;
        }

        .book-container {
            max-width: 900px;
            margin: 2rem auto;
            background-color: #ffffff;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1), 0 0 0 10px #f0eada;
            overflow: hidden;
            padding: 2rem 3rem;
        }

        @media (max-width: 768px) {
            .book-container {
                margin: 1rem;
                padding: 1.5rem;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1), 0 0 0 5px #f0eada;
            }
        }
        
        h1, h2 {
            font-weight: 700;
        }

        .interactive-section {
            background-color: #f7f9fc;
            border: 2px dashed #dbe1e8;
            border-radius: 15px;
            padding: 1.5rem;
            margin-top: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Piggy Bank Animation */
        .piggy-bank.shake {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0) rotate(-1deg); }
            20%, 80% { transform: translate3d(2px, 0, 0) rotate(2deg); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0) rotate(-4deg); }
            40%, 60% { transform: translate3d(4px, 0, 0) rotate(4deg); }
        }
        
        /* Chore chart item */
        .chore-item {
            transition: all 0.3s ease;
        }
        .chore-item.completed {
            transform: scale(0.95);
            background-color: #e0f2fe;
            color: #555;
            text-decoration: line-through;
        }

        /* Jar styles */
        .jar {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .jar.drag-over {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(76, 175, 80, 0.7);
        }
        
        /* Draggable item styles */
        .draggable {
            cursor: grab;
            user-select: none;
            touch-action: none;
        }
        .draggable.dragging {
            opacity: 0.5;
            cursor: grabbing;
        }
        
        /* Needs vs Wants card styles */
        .sort-card {
            transition: background-color 0.3s ease;
        }
        .sort-box {
             border: 3px dashed #cbd5e1;
             transition: background-color 0.3s ease, border-color 0.3s ease;
        }
        .sort-box.drag-over-correct {
            background-color: #dcfce7;
            border-color: #4ade80;
        }
        .sort-box.drag-over-wrong {
            background-color: #fee2e2;
            border-color: #f87171;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="book-container">
        <!-- Header -->
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-blue-600">My First Book of Finances</h1>
            <p class="text-xl md:text-2xl text-gray-500 mt-2">Chapter 1: The Journey of Your Money</p>
        </header>

        <!-- Introduction -->
        <section class="flex flex-col md:flex-row items-center gap-8 mb-12">
            <div id="piggy-bank-container" class="w-48 h-48 flex-shrink-0 cursor-pointer" title="Click me!">
                 <svg id="piggy-bank" class="w-full h-full piggy-bank" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <radialGradient id="piggyGradient" cx="0.3" cy="0.3" r="0.8">
                            <stop offset="0%" style="stop-color:#FFC0CB;"/>
                            <stop offset="100%" style="stop-color:#FF81A8;"/>
                        </radialGradient>
                    </defs>
                    <path fill="url(#piggyGradient)" d="M158.5,80.1c0-22.1-17.9-40-40-40H98.5c-7,0-13.7,2.8-18.6,7.7L50.8,76.9c-4.4,4.4-10.2,6.9-16.3,6.9H12.5 C5.6,83.8,0,89.4,0,96.3v15.9c0,6.9,5.6,12.5,12.5,12.5h2.8v15.4c0,8.3,6.7,15,15,15h12.1c8.3,0,15-6.7,15-15v-5h75.5c22.1,0,40-17.9,40-40V80.1z"/>
                    <circle cx="145" cy="70" r="7" fill="#2c3e50"/>
                    <path fill="#FF81A8" d="M187.5,60.1c-6.9,0-12.5,5.6-12.5,12.5v15.9c0,6.9,5.6,12.5,12.5,12.5s12.5-5.6,12.5-12.5V72.6 C200,65.7,194.4,60.1,187.5,60.1z"/>
                    <rect x="110" y="38" width="8" height="20" rx="4" fill="#E75480"/>
                    <line x1="45" y1="160" x2="45" y2="180" stroke="#FF81A8" stroke-width="15" stroke-linecap="round"/>
                    <line x1="75" y1="160" x2="75" y2="180" stroke="#FF81A8" stroke-width="15" stroke-linecap="round"/>
                </svg>
            </div>
            <div>
                <h2 class="text-2xl md:text-3xl font-bold text-blue-500 mb-4">Hello, Future Financier!</h2>
                <p class="text-lg leading-relaxed">Have you ever wondered about money? It's more than just coins and paper. It's a tool that helps you get the things you need and want. In this chapter, we'll go on an adventure to discover how money works, where it comes from, and how you can become its boss! Let's start our journey!</p>
                <p id="piggy-message" class="text-pink-500 font-semibold mt-2 h-6"></p>
            </div>
        </section>

        <!-- Section 2: Earning Money -->
        <h2 class="text-2xl md:text-3xl font-bold text-green-600 mb-4 text-center">Step 1: Earning Your Treasure</h2>
        <p class="text-center text-lg mb-4">Money doesn't grow on trees! You earn it by doing helpful tasks or jobs. This is called income.</p>
        <div class="interactive-section">
            <h3 class="text-xl font-bold text-center mb-4">My Awesome Chore Chart</h3>
            <div id="chore-chart" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <!-- Chores will be injected here by JS -->
            </div>
            <div class="mt-6 text-center">
                <p class="text-lg">Total Earned: 
                    <span id="total-earned" class="font-bold text-2xl text-green-700 bg-green-100 px-3 py-1 rounded-full">$0.00</span>
                </p>
                <button id="reset-chores" class="mt-4 bg-gray-400 text-white px-4 py-2 rounded-lg hover:bg-gray-500 transition-colors">Reset Chores</button>
            </div>
        </div>

        <!-- Section 3: Saving, Spending, Giving -->
        <h2 class="text-2xl md:text-3xl font-bold text-purple-600 mb-4 text-center">Step 2: The Three Magic Jars</h2>
        <p class="text-center text-lg mb-4">Once you have money, you have three choices: spend it now, save it for later, or give it to help others.</p>
        <div class="interactive-section text-center">
            <h3 class="text-xl font-bold text-center mb-4">Sort Your Coins!</h3>
            <p class="mb-4">Drag the coin below and drop it into one of the jars.</p>
            <div class="flex justify-center mb-6">
                 <div id="draggable-coin" class="draggable w-16 h-16 bg-yellow-400 rounded-full flex items-center justify-center text-yellow-800 font-bold text-2xl border-4 border-yellow-500 shadow-lg">
                    $1
                 </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6" id="jar-area">
                <div class="jar-drop-zone p-4 rounded-lg" data-jar="saving">
                    <p class="font-bold text-lg mb-2 text-blue-600">Saving Jar</p>
                    <img src="https://placehold.co/150x200/a0c4ff/ffffff?text=SAVE" class="mx-auto rounded-lg jar" alt="Saving Jar">
                    <p class="mt-2 text-2xl font-bold">$<span id="saving-total">0</span></p>
                </div>
                 <div class="jar-drop-zone p-4 rounded-lg" data-jar="spending">
                    <p class="font-bold text-lg mb-2 text-red-600">Spending Jar</p>
                    <img src="https://placehold.co/150x200/ffadad/ffffff?text=SPEND" class="mx-auto rounded-lg jar" alt="Spending Jar">
                    <p class="mt-2 text-2xl font-bold">$<span id="spending-total">0</span></p>
                </div>
                 <div class="jar-drop-zone p-4 rounded-lg" data-jar="giving">
                    <p class="font-bold text-lg mb-2 text-yellow-600">Giving Jar</p>
                    <img src="https://placehold.co/150x200/ffd6a5/ffffff?text=GIVE" class="mx-auto rounded-lg jar" alt="Giving Jar">
                    <p class="mt-2 text-2xl font-bold">$<span id="giving-total">0</span></p>
                </div>
            </div>
        </div>
        
        <!-- Section 4: Wants vs. Needs -->
        <h2 class="text-2xl md:text-3xl font-bold text-orange-600 mb-4 text-center">Step 3: Needs vs. Wants</h2>
        <p class="text-center text-lg mb-4">A <span class="font-bold">need</span> is something you must have to live, like food and water. A <span class="font-bold">want</span> is something you'd like to have, but don't need to survive.</p>
        <div class="interactive-section">
            <h3 class="text-xl font-bold text-center mb-4">Sort the Cards!</h3>
            <p class="text-center mb-4">Drag each item to the correct box.</p>
            <div id="sort-items-container" class="flex flex-wrap justify-center gap-4 mb-8">
                <!-- Sorting items will be injected here -->
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div id="needs-box" data-type="need" class="sort-box bg-green-50 rounded-xl p-4 min-h-[150px]">
                    <h4 class="text-2xl font-bold text-green-700 text-center">NEEDS âœ…</h4>
                </div>
                <div id="wants-box" data-type="want" class="sort-box bg-yellow-50 rounded-xl p-4 min-h-[150px]">
                    <h4 class="text-2xl font-bold text-yellow-700 text-center">WANTS ðŸŒŸ</h4>
                </div>
            </div>
        </div>
        
        <!-- Section 5: Budgeting -->
        <h2 class="text-2xl md:text-3xl font-bold text-teal-600 mb-4 text-center">Step 4: Making a Plan (Budget)</h2>
        <p class="text-center text-lg mb-4">A budget is a plan for your money. It helps you decide how much to save and spend so you can reach your goals!</p>
        <div class="interactive-section">
            <h3 class="text-xl font-bold text-center mb-4">My First Budget Planner</h3>
            <div class="flex flex-col md:flex-row items-center gap-8">
                <div class="w-full md:w-1/2">
                    <div class="mb-6">
                        <label for="income-slider" class="block font-bold mb-2">My Total Money: $<span id="income-value">50</span></label>
                        <input id="income-slider" type="range" min="10" max="100" value="50" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                    </div>
                    <div>
                        <label for="spending-slider" class="block font-bold mb-2">How much I plan to spend: $<span id="spending-value">25</span></label>
                        <input id="spending-slider" type="range" min="0" max="50" value="25" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                    </div>
                </div>
                <div class="w-full md:w-1/2 flex flex-col items-center">
                    <div id="budget-pie-chart" class="w-48 h-48 rounded-full transition-all duration-300"></div>
                    <div class="flex gap-6 mt-4">
                        <div class="flex items-center gap-2"><div class="w-4 h-4 rounded-full bg-red-400"></div><span class="font-bold">Spending</span></div>
                        <div class="flex items-center gap-2"><div class="w-4 h-4 rounded-full bg-blue-400"></div><span class="font-bold">Saving</span></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Conclusion -->
        <footer class="text-center mt-12 border-t-4 border-dotted border-gray-300 pt-8">
            <h2 class="text-3xl font-bold text-blue-600 mb-4">Great Job!</h2>
            <p class="text-lg leading-relaxed max-w-3xl mx-auto">You've learned about earning, saving, spending, and planning. You are on your way to becoming a money master! Keep practicing these skills, and you'll build a bright financial future.</p>
            <p class="text-gray-400 mt-6 font-semibold">End of Chapter 1</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- PIGGY BANK INTERACTION ---
            const piggyBank = document.getElementById('piggy-bank');
            const piggyMessage = document.getElementById('piggy-message');
            piggyBank.addEventListener('click', () => {
                piggyBank.classList.add('shake');
                piggyMessage.textContent = 'Oink! You found a coin!';
                setTimeout(() => {
                    piggyBank.classList.remove('shake');
                }, 500);
                 setTimeout(() => {
                    piggyMessage.textContent = '';
                }, 2000);
            });

            // --- CHORE CHART ---
            const choreChart = document.getElementById('chore-chart');
            const totalEarnedEl = document.getElementById('total-earned');
            const resetChoresBtn = document.getElementById('reset-chores');
            let totalEarned = 0;
            const chores = [
                { name: 'Wash Dishes', value: 1.50, icon: 'ðŸ½ï¸' },
                { name: 'Walk the Dog', value: 2.00, icon: 'ðŸ•' },
                { name: 'Clean Room', value: 3.00, icon: 'ðŸ§¹' },
                { name: 'Water Plants', value: 1.00, icon: 'ðŸŒ±' }
            ];

            function renderChores() {
                choreChart.innerHTML = '';
                chores.forEach(chore => {
                    const choreEl = document.createElement('div');
                    choreEl.className = 'chore-item bg-white p-4 rounded-lg shadow cursor-pointer flex flex-col items-center text-center';
                    choreEl.innerHTML = `
                        <div class="text-4xl mb-2">${chore.icon}</div>
                        <p class="font-semibold">${chore.name}</p>
                        <p class="text-green-600 font-bold">$${chore.value.toFixed(2)}</p>
                    `;
                    choreEl.addEventListener('click', () => {
                        if (!choreEl.classList.contains('completed')) {
                            choreEl.classList.add('completed');
                            totalEarned += chore.value;
                            updateTotalEarned();
                        }
                    });
                    choreChart.appendChild(choreEl);
                });
            }

            function updateTotalEarned() {
                totalEarnedEl.textContent = `$${totalEarned.toFixed(2)}`;
            }

            resetChoresBtn.addEventListener('click', () => {
                totalEarned = 0;
                updateTotalEarned();
                renderChores();
            });

            renderChores();


            // --- THREE JARS DRAG & DROP ---
            const draggableCoin = document.getElementById('draggable-coin');
            const jarDropZones = document.querySelectorAll('.jar-drop-zone');
            let originalCoinParent = draggableCoin.parentElement;
            let totals = { saving: 0, spending: 0, giving: 0 };
            
            draggableCoin.addEventListener('dragstart', (e) => {
                e.dataTransfer.setData('text/plain', 'coin');
                setTimeout(() => draggableCoin.classList.add('dragging'), 0);
            });

            draggableCoin.addEventListener('dragend', () => {
                draggableCoin.classList.remove('dragging');
            });
            
            jarDropZones.forEach(zone => {
                zone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    zone.querySelector('.jar').classList.add('drag-over');
                });
                zone.addEventListener('dragleave', () => {
                    zone.querySelector('.jar').classList.remove('drag-over');
                });
                zone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    zone.querySelector('.jar').classList.remove('drag-over');
                    const jarType = zone.dataset.jar;
                    
                    // Add 1 to the correct jar total
                    totals[jarType]++;
                    document.getElementById(`${jarType}-total`).textContent = totals[jarType];

                    // Reset coin animation
                    draggableCoin.style.display = 'none';
                    setTimeout(() => {
                        draggableCoin.style.display = 'flex';
                    }, 10);
                });
            });

            // --- WANTS VS. NEEDS ---
            const sortItemsContainer = document.getElementById('sort-items-container');
            const needsBox = document.getElementById('needs-box');
            const wantsBox = document.getElementById('wants-box');
            const sortItems = [
                { name: 'An Apple', type: 'need', icon: 'ðŸŽ' },
                { name: 'Video Game', type: 'want', icon: 'ðŸŽ®' },
                { name: 'Water', type: 'need', icon: 'ðŸ’§' },
                { name: 'Candy Bar', type: 'want', icon: 'ðŸ«' },
                { name: 'A Warm Coat', type: 'need', icon: 'ðŸ§¥' },
                { name: 'New Toy', type: 'want', icon: 'ðŸ§¸' },
            ];

            function renderSortItems() {
                sortItemsContainer.innerHTML = '';
                sortItems.forEach(item => {
                    const itemEl = document.createElement('div');
                    itemEl.id = `sort-item-${item.name.replace(' ', '')}`;
                    itemEl.className = 'sort-card draggable bg-white p-3 rounded-lg shadow flex items-center gap-3';
                    itemEl.draggable = true;
                    itemEl.dataset.type = item.type;
                    itemEl.innerHTML = `<span class="text-2xl">${item.icon}</span> <span class="font-semibold">${item.name}</span>`;
                    
                    itemEl.addEventListener('dragstart', (e) => {
                        e.dataTransfer.setData('text/plain', itemEl.id);
                        setTimeout(() => itemEl.classList.add('dragging'), 0);
                    });
                    itemEl.addEventListener('dragend', () => itemEl.classList.remove('dragging'));

                    sortItemsContainer.appendChild(itemEl);
                });
            }
            
            [needsBox, wantsBox].forEach(box => {
                box.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    const draggedId = e.dataTransfer.getData('text/plain');
                    const draggedEl = document.getElementById(draggedId);
                    if (!draggedEl) return;
                    
                    const draggedType = draggedEl.dataset.type;
                    const boxType = box.dataset.type;

                    if (draggedType === boxType) {
                        box.classList.add('drag-over-correct');
                        box.classList.remove('drag-over-wrong');
                    } else {
                        box.classList.add('drag-over-wrong');
                        box.classList.remove('drag-over-correct');
                    }
                });

                box.addEventListener('dragleave', () => {
                    box.classList.remove('drag-over-correct', 'drag-over-wrong');
                });
                
                box.addEventListener('drop', (e) => {
                    e.preventDefault();
                    box.classList.remove('drag-over-correct', 'drag-over-wrong');
                    const draggedId = e.dataTransfer.getData('text/plain');
                    const draggedEl = document.getElementById(draggedId);
                    if (!draggedEl) return;

                    const draggedType = draggedEl.dataset.type;
                    const boxType = box.dataset.type;

                    if (draggedType === boxType) {
                        draggedEl.style.backgroundColor = '#dcfce7';
                        draggedEl.draggable = false;
                        draggedEl.classList.remove('draggable');
                        box.appendChild(draggedEl);
                    } else {
                        // Optional: Add a shake animation for wrong drops
                    }
                });
            });

            renderSortItems();


            // --- BUDGET PIE CHART ---
            const incomeSlider = document.getElementById('income-slider');
            const spendingSlider = document.getElementById('spending-slider');
            const incomeValue = document.getElementById('income-value');
            const spendingValue = document.getElementById('spending-value');
            const pieChart = document.getElementById('budget-pie-chart');

            function updateBudget() {
                const income = parseInt(incomeSlider.value);
                const spending = parseInt(spendingSlider.value);

                // Update labels
                incomeValue.textContent = income;
                spendingValue.textContent = spending;
                
                // Ensure spending is not more than income
                spendingSlider.max = income;
                if(spending > income) {
                    spendingSlider.value = income;
                    spendingValue.textContent = income;
                }

                const spendingPercentage = (spending / income) * 100;
                
                pieChart.style.background = `conic-gradient(
                    #f87171 0% ${spendingPercentage}%, 
                    #60a5fa ${spendingPercentage}% 100%
                )`;
            }

            incomeSlider.addEventListener('input', updateBudget);
            spendingSlider.addEventListener('input', updateBudget);
            updateBudget();
        });
    </script>
</body>
</html>
